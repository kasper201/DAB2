<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <link href="design/race.css" rel="stylesheet">
    <title>Race</title>
</head>
<body>
<div class="race">
    <button class="BackButton" onclick="window.location.href='main.html'">Back</button>
    <div class="info">
        <div class="textblock1">
            <h1>General information</h1>
            <table>
                <tr>
                    <td>First Place:</td>
                    <td id="winner">Loading...</td>
                </tr>
                <tr>
                    <td>Second Place:</td>
                    <td id="second">Loading...</td>
                </tr>
                <tr>
                    <td>Third Place:</td>
                    <td id="third">Loading...</td>
                </tr>
                <tr>
                    <td>date:</td>
                    <td id="date">Loading...</td>
                </tr>
                <tr>
                    <td>season:</td>
                    <td id="season">Loading...</td>
                </tr>
                <tr>
                    <td>Best Lap:</td>
                    <td id="bestLap">Loading...</td>
                </tr>
                <tr>
                    <td>Achieved in Round:</td>
                    <td id="Achieved in">Loading...</td>
                </tr>
            </table>
        </div>
    </div>
    <div class="circuit">
        <img src="img/placeholder.jpg" id="circuit">
        <div class="circuitInfo">
            <table>
                <tr>
                    <td>circuit name:</td>
                    <td id="circuitName">Loading...</td>
                </tr>
                <tr>
                    <td>location:</td>
                    <td id="circuitLocation">Loading...</td>
                </tr>
                <tr>
                    <td>country:</td>
                    <td id="circuitCountry">Loading...</td>
                </tr>
            </table>
        </div>
    </div>
</div>

<script>
    var xhr = new XMLHttpRequest();
    xhr.open('GET', 'race.php', true);

    xhr.onreadystatechange = function() {
        if (xhr.readyState === XMLHttpRequest.DONE) {
            if (xhr.status === 200) {
                var data = JSON.parse(xhr.responseText);

                // Update the content dynamically
                document.getElementById('circuitName').innerText = data.name;
                document.getElementById('circuitLocation').innerText = data.location;
                document.getElementById('circuitCountry').innerText = data.country;
            } else {
                console.error('Failed to fetch circuit information.');
            }
        }
    };

    xhr.send();
</script>
</body>
</html>
